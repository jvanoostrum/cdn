function radar_visualization(t){const e=void 0!==t.margin?parseFloat(t.margin):20,r=void 0!==t.height?parseFloat(t.height):400,a=void 0!==t.width?parseFloat(t.width):400,n=void 0===t.show_overlay||Boolean(t.show_overlay),i=void 0===t.show_arc_texts||Boolean(t.show_arc_texts),o=void 0!==t.zoomed_factor?parseFloat(t.zoomed_quadrant):1.1,l=void 0!==t.zoomed_quadrant?parseFloat(t.zoomed_quadrant):void 0,s=33/(void 0!==t.blip_factor?parseFloat(t.blip_factor):1),d=Math.min(r,a)/2-e,c=d/s,f=d/s/2,u=[{idx:0,radial_min:0,radial_max:.5,factor_x:1,factor_y:-1,fill:"LightSkyBlue",stroke:"CornflowerBlue",text:t.quadrants[0].name,link:t.quadrants[0].link},{idx:1,radial_min:.5,radial_max:1,factor_x:1,factor_y:1,fill:"LightGreen",stroke:"MediumSeaGreen",text:t.quadrants[1].name,link:t.quadrants[1].link},{idx:2,radial_min:-1,radial_max:-.5,factor_x:-1,factor_y:1,fill:"LightPink",stroke:"LightCoral",text:t.quadrants[2].name,link:t.quadrants[2].link},{idx:3,radial_min:-.5,radial_max:0,factor_x:-1,factor_y:-1,fill:"Orange",stroke:"DarkOrange",text:t.quadrants[3].name,link:t.quadrants[3].link}],p=[{radius:d/4*1.35},{radius:d/4*2.25},{radius:d/4*3.15},{radius:d/4*4}];var y,h=42,x=(y=()=>{var t=1e4*Math.sin(h++);return t-Math.floor(t)},{random_between:(t,e)=>t+y()*(e-t),normal_between:(t,e)=>t+.5*(y()+y())*(e-t)});function v(t,e){var r={t:u[t].radial_min*Math.PI,r:0===e?0:p[e-1].radius},a={t:u[t].radial_max*Math.PI,r:p[e].radius},n={x:(f+c)*u[t].factor_x,y:(f+c)*u[t].factor_y},i={x:d*u[t].factor_x,y:d*u[t].factor_y};function o(t){var e=t.x,r=t.y;return{t:Math.atan2(r,e),r:Math.sqrt(e*e+r*r)}}function l(t){return{x:t.r*Math.cos(t.t),y:t.r*Math.sin(t.t)}}function s(t,e,r){var a=Math.min(e,r),n=Math.max(e,r);return Math.min(Math.max(t,a),n)}function y(t,e,r){return{t:t.t,r:s(t.r,e,r)}}function h(t,e,r){return{x:s(t.x,e.x,r.x),y:s(t.y,e.y,r.y)}}return{clipx:function(t){var e=y(o(h(t,n,i)),r.r+c,a.r-c);return t.x=l(e).x,t.x},clipy:function(t){var e=y(o(h(t,n,i)),r.r+c,a.r-c);return t.y=l(e).y,t.y},random:function(){return l({t:x.random_between(r.t-Math.PI/2,a.t-Math.PI/2),r:x.normal_between(r.r,a.r)})}}}for(var g=0;g<t.entries.length;g++){(w=t.entries[g]).segment=v(w.quadrant,w.ring);var m=w.segment.random();w.x=m.x,w.y=m.y,w.color=z(w)?t.rings[w.ring].color:t.colors.inactive}for(var _=new Array(4),k=0;k<4;k++){_[k]=new Array(4);for(var b=0;b<4;b++)_[k][b]=[]}for(g=0;g<t.entries.length;g++){var w;_[(w=t.entries[g]).quadrant][w.ring].push(w)}var M=1;for(var k of[0,1,2,3])for(b=0;b<4;b++){var q=_[k][b];q.sort((function(t,e){return t.label.localeCompare(e.label)}));for(g=0;g<q.length;g++)q[g].id=""+M++}function $(t,e){return"translate("+t+","+e+")"}function z(t){var e=!1;return void 0===t.quadrant?e=!1:void 0!==l&&t.quadrant!=l||(e=t.active),e}var A,P=d3.select("svg#"+t.svg_id).style("background-color",t.colors.background).attr("width",t.width).attr("height",t.height),I=P.append("g");void 0!==l?P.attr("viewBox",function(t){var r=u[t],a=r.factor_x,n=-1*r.factor_y,i=d*o+e,l=d*o+e;return[i*((a-1)/2)-e*a,l*((n+1)/2)*-1-e*n*-1,i,l].join(" ")}(l)):I.attr("transform",$(t.width/2,t.height/2)),n&&(A=d3.arc().startAngle((function(t){return t.radial_min*Math.PI})).endAngle((function(t){return t.radial_max*Math.PI})).innerRadius((function(t){return 0})).outerRadius((function(t){return d})),I.append("g").selectAll("g").data(u).enter().append("g").append("path").attr("d",A).attr("stroke",(function(t){return t.stroke})).attr("fill",(function(t){return t.fill})).style("opacity",(function(t){return void 0!==l&&t.idx===l?.25:0})).style("stroke-width","4").on("click",(function(t){void 0!==t.link&&(void 0!==t.target&&t.target,"_top"==t.target?top.location.href=t.link:"_parent"==t.target?parent.location.href=t.link:"_blank"==t.target?window.open(t.link):window.location.href=t.link)})).on("mouseover",(function(){void 0===l&&d3.select(this).style("opacity",.25).style("cursor","pointer")})).on("mouseout",(function(){void 0===l&&d3.select(this).style("opacity",0)}))),i&&function(){var t=d3.arc().startAngle((function(t){return t.radial_min*Math.PI})).endAngle((function(t){return t.radial_max*Math.PI})).innerRadius((function(t){return 0})).outerRadius((function(t){return d+6})),e=I.append("g").selectAll("g").data(u).enter().append("g");e.append("path").attr("fill","none").attr("id",(function(t){return"arcLabel_"+t.idx})).attr("d",t),e.append("g").attr("id","label_text").style("fill","lightgrey").attr("class","label").append("text").style("font-size","1em").style("text-anchor","middle").append("textPath").attr("xlink:href",(function(t,e){return"#arcLabel_"+t.idx})).attr("startOffset",(function(t,e){return"22%"})).text((function(t){return t.text}))}();var B=I.append("g");B.append("line").attr("x1",0).attr("y1",-d).attr("x2",0).attr("y2",d).style("pointer-events","none").style("stroke",t.colors.grid).style("stroke-width",1),B.append("line").attr("x1",-d).attr("y1",0).attr("x2",d).attr("y2",0).style("pointer-events","none").style("stroke",t.colors.grid).style("stroke-width",1);var F=B.append("defs").append("filter").attr("x",0).attr("y",0).attr("width",1).attr("height",1).attr("id","solid");F.append("feFlood").attr("flood-color","rgb(0, 0, 0, 0.8)"),F.append("feComposite").attr("in","SourceGraphic");for(g=0;g<p.length;g++)B.append("circle").attr("cx",0).attr("cy",0).attr("r",p[g].radius).style("pointer-events","none").style("fill","none").style("stroke",t.colors.grid).style("stroke-width",1),B.append("text").text(t.rings[g].name).attr("y",-p[g].radius+d/7).attr("text-anchor","middle").style("pointer-events","none").style("fill","#e5e5e5").style("font-family","Arial, Helvetica").style("font-size",d/10).style("font-weight","bold").style("pointer-events","none").style("user-select","none");var L=I.append("g").attr("id","rink"),C=I.append("g").attr("id","bubble").attr("x",0).attr("y",0).style("opacity",0).style("pointer-events","none").style("user-select","none");C.append("rect").attr("rx",4).attr("ry",4).style("fill","#333"),C.append("text").style("font-family","sans-serif").style("font-size","10px").style("fill","#fff"),C.append("path").attr("d",`M 0,0 ${c}, 0 ${f}, ${f+3} z`).style("fill","#333");var O=L.selectAll(".blip").data(t.entries).enter().append("g").attr("class","blip").on("mouseover",(function(t){!function(t){if(z(t)){var e=d3.select("#bubble text").text(t.label).node().getBBox();d3.select("#bubble").attr("transform",$(t.x-e.width/2,t.y-16)).style("opacity",.8),d3.select("#bubble rect").attr("x",-5).attr("y",-e.height).attr("width",e.width+10).attr("height",e.height+4),d3.select("#bubble path").attr("transform",$(e.width/2-5,3))}}(t)})).on("mouseout",(function(t){d3.select("#bubble").attr("transform",$(0,0)).style("opacity",0)}));O.each((function(t){var e=d3.select(this);if(z(t)&&t.hasOwnProperty("link")&&void 0!==t.link){var r=void 0!==t.target?t.target:"_self";e=e.append("a").attr("xlink:href",t.link).attr("target",r)}t.moved>0?e.append("path").attr("d",`M -${c},${f} ${c},${f} 0,-${c} z`).style("fill",t.color):t.moved<0?e.append("path").attr("d",`M -${c},-${f} ${c},-${f} 0,${c} z`).style("fill",t.color):e.append("circle").attr("r",c).attr("fill",t.color);var a=t.id;e.append("text").text(a).attr("y",c/3).attr("text-anchor","middle").style("fill","#fff").style("font-family","Arial, Helvetica").style("font-size",(function(t){return c-1})).style("pointer-events","none").style("user-select","none")})),d3.forceSimulation().nodes(t.entries).velocityDecay(.19).force("collision",d3.forceCollide().radius(c).strength(.85)).on("tick",(function(){O.attr("transform",(function(t){return $(t.segment.clipx(t),t.segment.clipy(t))}))}))}